@model PartA.Models.masterEntities
@using System.Text.RegularExpressions
@{
    ViewBag.Title = "Home Page";
}
@section css
{
    <link href="/Content/magnific-popup.css" rel="stylesheet" />
}
<section class="container">
    <div class="col-sm-12">
        <h2 class="page-heading">@ViewBag.Title.</h2>

            <div class="row">
                <div class="col-sm-8 col-md-9">
                    @foreach (var item in Model.Movies.ToList())
                    {
                    <!-- Movie variant with time -->
                    <div class="movie movie--test movie--test--dark movie--test--left">
                        <div class="movie__images">
                            <a href="//localhost:12382/images/424x424/@Html.DisplayFor(modelItem => item.ImageUrl)" class="movie-beta__link">
                                <img src="//localhost:12382/images/424x424/@Html.DisplayFor(modelItem => item.ImageUrl)" alt="@Html.DisplayFor(modelItem => item.Title)" />
                            </a>
                        </div>
                        <div class="movie__info">
                            <a href='/Home/MoviePreview?MovieID=@(item.MovieID)' class="movie__title">@Html.DisplayFor(modelItem => item.Title)</a>
                            <p class="movie__option">@Html.DisplayFor(modelItem => item.ShortDescription)</p>
                        </div>
                    </div>
                    <!-- Movie variant with time -->
                    }
                </div>
            </div>
        </div>
</section>
@section scripts
{
    <script src="/Scripts/jquery-migrate-1.2.1.min.js"></script>
    <script src="/Scripts/magnific-popup.js"></script>
    <script type="text/javascript">
        function init_Gallery() {
            "use strict";
            $('.movie-beta__link').magnificPopup({
                type: 'image',
                closeOnContentClick: true,
                mainClass: 'mfp-fade',
                image: {
                    verticalFit: true
                },
                gallery: {
                    enabled: true,
                    navigateByImgClick: true,
                    preload: [0, 1] // Will preload 0 - before current, and 1 after the current image
                }
            });

        }
        $(document).ready(function () {
            init_Gallery();
        });
    </script>
}